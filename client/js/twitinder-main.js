"use strict";require(["jquery","events","ko"],function(t,i,n){function o(e){(screen.width<640||document.documentElement.clientWidth<640)&&(a=!0,s=!0),null!==navigator.userAgent.match(/iPad/i)&&(r=!0,s=!0),(navigator.userAgent.indexOf("iPhone")||navigator.userAgent.indexOf("iPod"))&&(l=!0,s=!0),a&&(t("a[href^=#DROPDOWN]").click(function(){return t(".dropdown").click(function(){var e=t(this).closest("section"),i=e.find("nav.section-nav");t(this).hasClass("open")?(t(this).removeClass("open"),i.slideUp(500)):(t(this).addClass("open"),i.slideDown(500))}),!1}),c.swapContent("div.commercial-content-men section.block-2 article.img-box","div.commercial-content-men section.block-2 article.border-box"),c.swapContent("div.commercial-content-women section.block-2 article.img-box","div.commercial-content-women section.block-2 article.border-box")),jQuery("section.gallery").GalleryAS({mobile:a,slideClass:"div.gallery-container li",linkedGallery:["div.gallery-dots"],linkClass:"a.dot"}),t("a[href^=#REFRESH]").click(function(t){window.location.reload()}),t("a[href^=#compform]").click(c.openCompetition),t(".close-form").click(c.closeCompetition),t(".scrollto").click(c.scrollToSection),t(".social-icon-facebook").click(hubSocial.postToFacebook),t(".social-icon-twitter").click(hubSocial.postToTwitter),t(".social-icon-gplus").click(hubSocial.postToGooglePlus),t(".social-icon-pinterest").click(hubSocial.postToPinterest),t("#creative a[href^=#]").click(function(t){t.preventDefault()})}var a=!1,r=!1,l=!1,s=!1,c={callTracking:function(e){e=e||!1,t(window).trigger("analytics.ctaClick",["TEDBAKER|WOMENS|"+newCall])},scrollToSection:function(e,i){var n=i?i:t(e.target).attr("href");t("html,body").animate({scrollTop:t(n).offset().top},1e3)},posToSection:function(i,n){var o=i?i:t(e.target).attr("href"),a=n?n:t(o).height(),r=t(o).offset().top+(a-t(window).height())/2;t("html,body").animate({scrollTop:r},1500)},swapContent:function(e,i){t(i).before(t(e))},openCompetition:function(e){t(".comp-form").fadeIn(400)},closeCompetition:function(e){t(".comp-form").fadeOut(400)}},d={usingMobile:!1,init:function(){(screen.width<640||document.documentElement.clientWidth<640)&&(this.usingMobile=!0),(navigator.userAgent.indexOf("iPhone")||navigator.userAgent.indexOf("iPod"))&&(this.usingMobile=!0),this.usingMobile||!i||t(".quickview, [data-prodid=*]").each(function(){var e=t(this).attr("href");t(this).attr("href","#"),t(this).attr("data-produrl",e),t(this).on("click",showHubQuickViewFunc)}),i&&i.on("QuickViewClosed",this.quickViewClosedFunc)},showHubQuickViewFunc:function(e){var n=t(this).attr("data-prodid")||"",o=t(this).attr("data-produrl")||"";if(!i)throw"globalEvents has not been defined";i.trigger("QuickViewShow",{productId:n,productUrl:o})},quickViewClosedFunc:function(t){}},f={usingMobile:!1,currentActive:"",contentClass:"section.commercial-gender-content",buttonClass:"section.commercial-gender-nav a",init:function(e){this.usingMobile=e,t(this.buttonClass).click(function(){t(this).hasClass("active")||(t(f.buttonClass+".active").removeClass("active"),t(this).addClass("active"),f.changeContent(t(this).attr("href")))}),"#MEN"===window.location.hash&&(t(f.buttonClass+".active").removeClass("active"),t(f.buttonClass+'[href="#MEN"]').addClass("active"),this.changeContent("#MEN"))},changeContent:function(e){var i=(t(this.contentClass+" div.scroll-transform-block > div.active").removeClass("active"),this.currentActive=t(this.contentClass+" div.commercial-content-"+("#WOMEN"===e?"women":"men")).addClass("active"));this.usingMobile||t(this.contentClass+" div.scroll-transform-block").css({transform:"translateX(-"+t(this.contentClass).width()*i.index()+"px)"})}};o(),d.init(),f.init(a)}),function(){function t(t){function e(t){}var i=l;"undefined"!=typeof t&&(i=t),$(this).attr("data-image")&&(i=$(this).attr("data-image"));var n={method:"feed",redirect_uri:s+"/",link:s+"/",picture:l,name:c,caption:c,description:r};return FB.ui(n,e),!1}function e(t){return a("https://twitter.com/share",s,r),!1}function i(t){var e=l;$(this).attr("data-image")&&(e=$(this).attr("data-image"));var i="https://plus.google.com/share?url=";return window.open(i+s,"sharerGp","width=840,height=464"),!1}function n(t){var e=l;"undefined"!=typeof $ShareImage&&(e=$ShareImage),$(this).attr("data-image")&&(e=$(this).attr("data-image"));var i=s,n=r,o=e;o=encodeURIComponent(o),n=encodeURIComponent(n),console.log(e);var a="http://pinterest.com/pin/create/button/?url="+i+"&media="+o+"&description="+n;return popupWindow=window.open(a,"popUpWindow","height=600,width=650,left=10,top=10,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,directories=no,status=yes"),!1}function o(t){var e=l;return"undefined"!=typeof t&&(e=t),$(this).attr("data-image")&&(e=$(this).attr("data-image")),!1}function a(t,e,i){var n=t+"?url="+encodeURIComponent(e)+"&text="+encodeURIComponent(i);popupWindow=window.open(n,"popUpWindow","height=400,width=450,left=10,top=10,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,directories=no,status=yes")}var r="Summer of Love with Bourjois Paris and ASOS",l="http://commercial.asos.com/bourjois/2015_07_Bourjois/BOURJOIS_GIF.gif",s="http://www.asos.com/discover/brand-profile/bourjois",c="Bourjois | ASOS";FB.init({appId:466810713409023,status:!0,cookie:!0}),window.hubSocial={postToFacebook:t,postToTwitter:e,postToPinterest:n,postToGooglePlus:i,postToTumblr:o}}(),function(t){t.fn.DropdownMenu=function(e){var i={mobile:!1,tracking:!1,trackingDataAttr:!1,activeClass:"active",eventCall:!1,previous:null};return e=t.extend(i,e),this.each(function(){function i(){f.find(".title").click(n),t('a[href^="'+u+'"]').click(o),c.on("close",r)}function n(t){h||c.hasClass(e.activeClass)?r():o()}function o(t){h=!0,c.addClass(e.activeClass),d.slideDown(1e3,function(){v||l(null)}),e.eventCall&&(c.find("img").trigger(e.eventCall),c.find("div.slider-gallery").trigger("callLinkedGallery"));var i=0;e.previous&&e.previous!=c&&(e.previous.trigger("close"),i=500),e.previous=c,setTimeout(a,i)}function a(e){t("html,body").animate({scrollTop:c.offset().top},1e3)}function r(t){h=!1,c.removeClass(e.activeClass),d.slideUp(500)}function l(t){v=!0;var e=c.find("div.whattopack-gallery");e.length>0&&(e.height(c.find("div.whattopack-gallery div").height()),e.css("overflow:hidden;"),c.find("div.whattopack-gallery > div").css({position:"absolute",left:0,top:0,margin:"0 0 0 100%",width:"100%",height:"100%"}),c.find(".pack-gallery a[href^=#LOOK]").click(s))}function s(e){var i=t(this).attr("href"),n=String(i).split("#LOOK-")[1],o=t(this).closest("aside").find("."+String(n).toLowerCase()+"s-look");o.hasClass("active")||(t(this).parent().find(".active").removeClass("active"),t(this).addClass("active"),o.parent().find(".active").removeClass("active"),o.addClass("active")),console.log("."+String(n).toLowerCase()+"s-look")}var c=t(this),d=c.find("div.dropdown-container"),f=c.find("div.dropdown-title"),u=c.data("hrefcall"),h=!1,v=!1;i()})}}(jQuery),function(t){t.fn.GalleryAS=function(e){var i={mobile:!1,tracking:!1,activeClass:"active",extraClass:"",slideClass:"li",linkClass:"li",movePoint:30,animTime:300,callFunction:!1,linkedGallery:[],globalLinked:!1};return e=t.extend(i,e),this.each(function(){function i(){if(p.draggable=!1,u.draggable=!1,u.find("img").draggable=!1,u.find("img").on("dragstart",function(t){t.preventDefault()}),v.click(r),h.click(a),u.bind("touchstart",function(e){b=!0,f=e.originalEvent.changedTouches[0].pageX,t(window).bind("touchmove",n)}),u.bind("touchend",function(e){b=!1,t(window).unbind("touchmove"),"next"==C?a(null):"prev"==C?r(null):g.animate({"margin-left":0},100)}),u.mousedown(function(e){b=!0,f=e.pageX,t(window).mousemove(o)}),u.mouseup(function(e){b&&(b=!1,t(window).unbind("mousemove"),g.animate({"margin-left":0},100))}),e.linkedGallery){d(),u.on("callLinkedGallery",d);for(var i=0;i<e.linkedGallery.length;i++){var l=(e.globalLinked?t(document):u).find(e.linkedGallery[i]);l.find(e.linkClass).on("click",s)}}e.callFunction&&e.callFunction(m,w)}function n(t){var i=(t.originalEvent.changedTouches[0].pageX-u.offset().left,f-t.originalEvent.changedTouches[0].pageX);g.css({"margin-left":0-i}),C="null",i/u.width()*100<0-e.movePoint&&(C="prev"),i/u.width()*100>e.movePoint&&(C="next")}function o(i){var n=(i.pageX-u.offset().left,f-i.pageX);g.css({"margin-left":0-n}),n/u.width()*100<0-e.movePoint&&(b=!1,t(window).unbind("mousemove"),r(null)),n/u.width()*100>e.movePoint&&(b=!1,t(window).unbind("mousemove"),a(null))}function a(t){m++,m>=w&&(m=0),c(m,"next")}function r(t){m--,0>m&&(m=w-1),c(m,"prev")}function l(t){if(m!==t){var e=m>t?"next":"prev";m=parseInt(t)||0,0>m?m=w-1:m>=w&&(m=0),c(m,e)}}function s(e){l(t(this).index())}function c(t,i){"next"==i?(u.find(e.slideClass+"."+e.activeClass).removeClass(e.activeClass).stop(!1,!1).animate({"margin-left":"-100%"},e.animTime),p.eq(t).addClass(e.activeClass).css({"margin-left":"100%"}).stop(!1,!1).animate({"margin-left":"0"},e.animTime),g=u.find(e.slideClass+"."+e.activeClass)):(u.find(e.slideClass+"."+e.activeClass).removeClass(e.activeClass).stop(!1,!1).animate({"margin-left":"100%"},e.animTime),p.eq(t).addClass(e.activeClass).css({"margin-left":"-100%"}).stop(!1,!1).animate({"margin-left":"0"},e.animTime),g=u.find(e.slideClass+"."+e.activeClass)),d(),e.callFunction&&e.callFunction(m,w)}function d(){for(var i=0,n=e.linkedGallery.length;n>i;i++){var o=(e.globalLinked?t(document):u).find(e.linkedGallery[i]);o.find(".active").removeClass("active"),o.find(e.linkClass).eq(m).addClass("active")}}var f,u=t(this),h=t(this).find(".next"),v=t(this).find(".prev"),p=t(this).find(e.slideClass),g=t(this).find(e.slideClass+"."+e.activeClass),m=0,w=p.length,b=!1,C="none";i()})}}(jQuery),function(t){t.fn.TooltipAS=function(e){var i={mobile:!1,tracking:!1,trackingDataAttr:!1,activeClass:"active",eventCall:!1};return e=t.extend(i,e),this.each(function(){function e(){o.hover(i,n),parseInt(o.css("top"),10)<50&&a.css({top:"-55px"})}function i(t){r=!0,a.stop(!1,!0).fadeIn({duration:500,queue:!1})}function n(t){r=!1,a.stop(!1,!0).fadeOut({duration:300,queue:!1})}var o=t(this),a=o.find("div.hover-box"),r=!1;e()})}}(jQuery),function(t,e,i,n){var o=t(e);t.fn.lazyload=function(a){function r(){var e=0;s.each(function(){var i=t(this);if(!c.skip_invisible||i.is(":visible"))if(t.abovethetop(this,c)||t.leftofbegin(this,c));else if(t.belowthefold(this,c)||t.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else i.trigger("appear"),e=0})}var l,s=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return a&&(n!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),n!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),t.extend(c,a)),l=c.container===n||c.container===e?o:t(c.container),0===c.event.indexOf("scroll")&&l.bind(c.event,function(){return r()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,(i.attr("src")===n||i.attr("src")===!1)&&i.is("img")&&i.attr("src",c.placeholder),i.one("appear",function(){if(!this.loaded){if(c.appear){var n=s.length;c.appear.call(e,n,c)}t("<img />").bind("load",function(){var n=i.attr("data-"+c.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[c.effect](c.effect_speed),e.loaded=!0;var o=t.grep(s,function(t){return!t.loaded});if(s=t(o),c.load){var a=s.length;c.load.call(e,a,c)}}).attr("src",i.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&i.bind(c.event,function(){e.loaded||i.trigger("appear")})}),o.bind("resize",function(){r()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&s.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){r()}),this},t.belowthefold=function(i,a){var r;return r=a.container===n||a.container===e?(e.innerHeight?e.innerHeight:o.height())+o.scrollTop():t(a.container).offset().top+t(a.container).height(),r<=t(i).offset().top-a.threshold},t.rightoffold=function(i,a){var r;return r=a.container===n||a.container===e?o.width()+o.scrollLeft():t(a.container).offset().left+t(a.container).width(),r<=t(i).offset().left-a.threshold},t.abovethetop=function(i,a){var r;return r=a.container===n||a.container===e?o.scrollTop():t(a.container).offset().top,r>=t(i).offset().top+a.threshold+t(i).height()},t.leftofbegin=function(i,a){var r;return r=a.container===n||a.container===e?o.scrollLeft():t(a.container).offset().left,r>=t(i).offset().left+a.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document);